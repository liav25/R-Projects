"0","#add split variable "
"0","serious_accidents[,""pedestrian_involved""] =  ifelse(serious_accidents$accident_type_hebrew == ""פגיעה בהולך רגל"",""Pedestrian Involved"",""No Pedestrians Involved"")"
"0","#create the pedestrians data frame"
"0","pedestrians <- serious_accidents %>% group_by(accident_year,accident_severity, pedestrian_involved) %>% summarize(total = sum(X))"
"0","#create the ggplot"
"0","p = ggplot(pedestrians, aes(x=accident_year,y=total, fill=accident_severity)) +  geom_bar(stat = ""identity"", position = ""dodge"") +"
"0","  #split by pedestrians involvment and scaling axis"
"0","  facet_wrap(.~pedestrian_involved) + scale_x_continuous(""Year"", labels = as.character(pedestrians$accident_year), breaks =pedestrians$accident_year) + scale_y_continuous(""Year"") + "
"0","  #designing the graph a bit"
"0","  theme(title = element_text(size=20), strip.text = element_text(size=15, color=""grey3""), axis.text = element_text(size =15), axis.title = element_text(size=15), legend.text=element_text(size=15))+ "
"0","  "
"0","  geom_text(aes(label=total), vjust=-0.5, color=""black"","
"0","            position = position_dodge(1), size=4) + theme(axis.text.x = element_text(angle=0, vjust=1)) + ggtitle(""Serious Accidents Per Year"") + guides(fill=guide_legend(title=""Severity""), size=10)"
