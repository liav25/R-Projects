"0","#create an is_pedestrian_involved column"
"0","accidents.new$pedestrian_involved =  ifelse(accidents.new$accident_type_hebrew == ""פגיעה בהולך רגל"",""Pedestrian Involved"",""No Pedestrians Involved"")"
"0","#create a table of pedestrians-involved accidents by streets"
"0","streets_pedestrians = accidents.new %>%  group_by(street1_hebrew) %>% summarize(total = sum(ifelse(pedestrian_involved==""Pedestrian Involved"",1,0)))"
"0","#sum the total accidents on each street"
"0","streets = accidents.new %>%  group_by(street1_hebrew) %>% summarize(total = sum(X))"
"0","#merge tables"
"0","streets_merged = merge(streets, streets_pedestrians, by = ""street1_hebrew"")"
"0","#fix colnames"
"0","colnames(streets_merged) = c(""street"",""accidents"", ""pedestrian_accidents"")"
"0","#filter the below 100 total accidents"
"0","streets_merged_over_100 = filter(streets_merged, accidents>100)"
"0","#create ratio column"
"0","streets_merged_over_100$ratio = streets_merged_over_100$pedestrian_accidents/streets_merged_over_100$accidents"
"0","#find the maximum ratio street"
"0","max_ratio_road = streets_merged_over_100[which.max(streets_merged_over_100$ratio),1]"
